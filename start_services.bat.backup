@echo off
chcp 65001 >nul
echo ========================================
echo   Pytest Auto API 自动化测试框架
echo   正在启动前后端服务...
echo ========================================
echo.

echo [1/3] 检查Python环境和依赖...
python --version
if %errorlevel% neq 0 (
    echo 错误: 未找到Python环境，请先安装Python
    pause
    exit /b 1
)

echo [2/3] 启动后端服务...
start "后端服务" cmd /c "python web_ui/backend/app.py"
timeout /t 3 /nobreak >nul

echo [3/3] 启动前端服务...
cd web_ui\frontend
start "前端服务" cmd /c "npm run dev"
cd ..\..

echo.
echo ========================================
echo   服务启动完成！
echo   后端地址: http://127.0.0.1:5000
echo   前端地址: http://127.0.0.1:5173
echo ========================================
echo.
echo 按任意键打开浏览器访问前端界面...
pause >nul
start http://127.0.0.1:5173

echo.
echo 注意: 请保持命令行窗口开启以维持服务运行
echo 按Ctrl+C可停止对应服务
pause 